{"mode":"Text","hardwareTarget":"brain","textContent":"\n#include <stdio.h>\n#include <stdlib.h>\n#include <stdbool.h>\n#include <math.h>\n#include <string.h>\n#include \"vex.h\"\nusing namespace vex;\nbrain Brain;\n#define waitUntil(condition)                                                   \\\n  do {                                                                         \\\n    wait(5, msec);                                                             \\\n  } while (!(condition))\n\nmotor Motor7 = motor(PORT7, ratio36_1, true);\nmotor Motor8 = motor(PORT8, ratio36_1, true);\nmotor Motor9 = motor(PORT9, ratio36_1, true);\nmotor Motor17 = motor(PORT17, ratio36_1, false);\nmotor Motor18 = motor(PORT18, ratio36_1, false);\nmotor Motor19 = motor(PORT19, ratio36_1, false);\ninertial Inertial1 = inertial(PORT1);\n\n\nvoid initializeRandomSeed(){\n  int systemTime = Brain.Timer.systemHighResolution();\n  double batteryCurrent = Brain.Battery.current();\n  double batteryVoltage = Brain.Battery.voltage(voltageUnits::mV);\n  int seed = int(batteryVoltage + batteryCurrent * 100) + systemTime;\n  srand(seed);\n}\n\n\n\nvoid vexcodeInit() {\n  initializeRandomSeed(); \n}\n\n\n\n\n// Include the V5 Library\n#include \"vex.h\"\n\nusing namespace vex;\n\nint Screen_precision = 0, Console_precision = 0;\nfloat myVariable, state, turnamt;\n//determines states;\n//0: upright body\n//1: currently lowering body\n//2: lowered body\n//3: rising body\nint whenStarted4() {\n  Inertial1.startCalibration();\n  while (Inertial1.isCalibrating()) { task::sleep(50); }\n  Brain.Screen.print(\"calibrated!\");\n  Brain.Screen.newLine();\n  state = 0.0;\n  Motor7.setVelocity(100.0, percent);\n  Motor8.setVelocity(100.0, percent);\n  Motor9.setVelocity(100.0, percent);\n  Motor17.setVelocity(100.0, percent);\n  Motor18.setVelocity(100.0, percent);\n  Motor19.setVelocity(100.0, percent);\n  while (true) {\n    if ((Inertial1.orientation(pitch, degrees) >= 20.0 && Inertial1.gyroRate(yaxis, dps) >= 50.0) && state == 0.0) {\n      state = 1.0;\n    }\n    if ((Inertial1.orientation(pitch, degrees) <= 77.5 && Inertial1.gyroRate(yaxis, dps) <= -25.0) && state == 2.0) {\n      state = 3.0;\n    }\n  wait(5, msec);\n  }\n  return 0;\n}\n//when state is 1 (body tilted forward), gives slack in the rope\nint whenStarted1() {\n  turnamt = 2.0;\n  while (true) {\n    if (state == 1.0) {\n      Motor7.spinFor(forward, turnamt, turns, false);\n      Motor8.spinFor(forward, turnamt, turns, false);\n      Motor9.spinFor(forward, turnamt, turns, false);\n      Motor17.spinFor(forward, turnamt, turns, false);\n      Motor18.spinFor(forward, turnamt, turns, false);\n      Motor19.spinFor(forward, turnamt, turns, true);\n      state = 2.0;\n    }\n  wait(5, msec);\n  }\n  return 0;\n}\n\n// Used to find the format string for printing numbers with the\n// desired number of decimal places\nconst char* printToScreen_numberFormat() {\n  // look at the current precision setting to find the format string\n  switch(Screen_precision){\n    case 0:  return \"%.0f\"; // 0 decimal places (1)\n    case 1:  return \"%.1f\"; // 1 decimal place  (0.1)\n    case 2:  return \"%.2f\"; // 2 decimal places (0.01)\n    case 3:  return \"%.3f\"; // 3 decimal places (0.001)\n    default: return \"%f\"; // use the print system default for everything else\n  }\n}\n\n//prints state, pitch, and pitch rate of change to screen\nint whenStarted2() {\n  while (true) {\n    wait(0.1, seconds);\n    Brain.Screen.clearScreen();\n    Brain.Screen.print(printToScreen_numberFormat(), static_cast<float>(state));\n    Brain.Screen.newLine();\n    Brain.Screen.print(printToScreen_numberFormat(), static_cast<float>(Inertial1.orientation(pitch, degrees)));\n    Brain.Screen.newLine();\n    Brain.Screen.print(printToScreen_numberFormat(), static_cast<float>(Inertial1.gyroRate(yaxis, dps)));\n    Brain.Screen.newLine();\n    Brain.Screen.setCursor(1, 1);\n  wait(5, msec);\n  }\n  return 0;\n}\n\n//when state is 3 (body lowered, starting to go up), retracts rope\nint whenStarted3() {\n  while (true) {\n    if (state == 3.0) {\n      Motor7.spinFor(reverse, turnamt, turns, false);\n      Motor8.spinFor(reverse, turnamt, turns, false);\n      Motor9.spinFor(reverse, turnamt, turns, false);\n      Motor17.spinFor(reverse, turnamt, turns, false);\n      Motor18.spinFor(reverse, turnamt, turns, false);\n      Motor19.spinFor(reverse, turnamt, turns, true);\n      state = 0.0;\n    }\n  wait(5, msec);\n  }\n  return 0;\n}\n\n//\n\n\n\nint main() {\n  // Initializing Robot Configuration. DO NOT REMOVE!\n  vexcodeInit();\n\n  vex::task ws1(whenStarted2);\n  vex::task ws2(whenStarted3);\n  vex::task ws3(whenStarted4);\n  whenStarted1();\n}","textLanguage":"cpp","robotConfig":[{"port":[7],"name":"Motor7","customName":false,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"true","fwd":"forward","rev":"reverse","gear":"ratio36_1"},"triportSourcePort":22},{"port":[8],"name":"Motor8","customName":false,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"true","fwd":"forward","rev":"reverse","gear":"ratio36_1"},"triportSourcePort":22},{"port":[9],"name":"Motor9","customName":false,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"true","fwd":"forward","rev":"reverse","gear":"ratio36_1"},"triportSourcePort":22},{"port":[17],"name":"Motor17","customName":false,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"false","fwd":"forward","rev":"reverse","gear":"ratio36_1"},"triportSourcePort":22},{"port":[18],"name":"Motor18","customName":false,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"false","fwd":"forward","rev":"reverse","gear":"ratio36_1"},"triportSourcePort":22},{"port":[19],"name":"Motor19","customName":false,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"false","fwd":"forward","rev":"reverse","gear":"ratio36_1"},"triportSourcePort":22},{"port":[1],"name":"Inertial1","customName":false,"deviceType":"Inertial","deviceClass":"inertial","setting":{},"triportSourcePort":22}],"slot":0,"platform":"V5","sdkVersion":"20240802.15.00.00","appVersion":"4.64.0","minVersion":"4.60.0","fileFormat":"2.0.0","targetBrainGen":"First","v5Sounds":[{"name":"game over","url":"static/sounds/mixkit-arcade-retro-game-over-213.wav"}],"v5SoundsEnabled":false,"aiVisionSettings":{"colors":[],"codes":[],"tags":true,"AIObjects":true,"AIObjectModel":[],"aiModelDropDownValue":null},"target":"Physical"}